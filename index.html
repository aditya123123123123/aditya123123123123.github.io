<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aditya Jhalani - My Story</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #fff;
            overflow-x: hidden;
            cursor: none;
        }

        /* Custom Cursor */
        .cursor {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            transition: transform 0.1s;
            z-index: 9999;
            mix-blend-mode: difference;
        }

        .cursor-follower {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            transition: transform 0.3s;
            z-index: 9998;
            mix-blend-mode: difference;
        }

        /* Canvas */
        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }

        /* Personal Touch - Floating Elements */
        .floating-element {
            position: fixed;
            opacity: 0.1;
            pointer-events: none;
            font-size: 24px;
            z-index: 0;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            from { transform: translateY(100vh) rotate(0deg); }
            to { transform: translateY(-100px) rotate(360deg); }
        }

        .floating-element:nth-child(1) { left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { left: 20%; animation-delay: -2s; }
        .floating-element:nth-child(3) { left: 30%; animation-delay: -4s; }
        .floating-element:nth-child(4) { left: 70%; animation-delay: -6s; }
        .floating-element:nth-child(5) { left: 80%; animation-delay: -8s; }
        .floating-element:nth-child(6) { left: 90%; animation-delay: -10s; }

        /* Navigation */
        .nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            background: linear-gradient(to bottom, rgba(10, 10, 10, 0.9), transparent);
            z-index: 100;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .nav-bar.visible {
            opacity: 1;
        }

        .back-button {
            background: none;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Content */
        .content {
            position: relative;
            z-index: 1;
        }

        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            position: relative;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        /* Hero Section - Elevator Pitch Style */
        .hero-intro {
            font-size: clamp(1.2rem, 2.5vw, 1.6rem);
            color: #666;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.3s;
        }

        .hero-name {
            font-size: clamp(3.5rem, 8vw, 6.5rem);
            font-weight: 200;
            letter-spacing: -0.03em;
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.5s;
            background: linear-gradient(135deg, #fff 0%, #aaa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .elevator-pitch {
            font-size: clamp(1.3rem, 2.8vw, 2rem);
            line-height: 1.4;
            color: #ddd;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.7s;
        }

        .personal-touch {
            font-size: clamp(1rem, 2vw, 1.3rem);
            line-height: 1.6;
            color: #aaa;
            font-style: italic;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease forwards;
            animation-delay: 0.9s;
        }

        /* Personal Stats Bar */
        .stats-bar {
            display: flex;
            gap: 3rem;
            margin-top: 3rem;
            padding: 2rem 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease forwards;
            animation-delay: 1.1s;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 200;
            color: #fff;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Section Headers */
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-subtitle {
            font-size: 1rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 200;
            color: #fff;
        }

        /* Story Cards - Personal Timeline */
        .story-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(50px);
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .story-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transition: left 0.5s;
        }

        .story-card:hover::before {
            left: 100%;
        }

        .story-card:hover {
            transform: translateY(0) scale(1.02);
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .story-card.visible {
            animation: fadeInUp 0.8s ease forwards;
        }

        .story-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .story-icon {
            font-size: 1.5rem;
            opacity: 0.7;
        }

        .story-card h3 {
            font-size: clamp(1.5rem, 3vw, 2.2rem);
            font-weight: 300;
            margin-bottom: 1rem;
            color: #fff;
        }

        .story-card .elevator-line {
            font-size: clamp(1.1rem, 2.2vw, 1.4rem);
            color: #ddd;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            font-weight: 300;
        }

        .story-card .personal-detail {
            font-size: 1rem;
            color: #aaa;
            line-height: 1.6;
            font-style: italic;
        }

        /* Thought Cards - More Personal */
        .thought-card {
            background: linear-gradient(135deg, rgba(100, 50, 200, 0.1) 0%, rgba(50, 100, 200, 0.05) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(150, 100, 255, 0.2);
            border-radius: 25px;
            padding: 3rem;
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(50px);
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
        }

        .thought-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(100, 50, 200, 0.2);
        }

        .thought-card.visible {
            animation: fadeInUp 0.8s ease forwards;
        }

        .thought-card h3 {
            font-size: clamp(1.8rem, 3.5vw, 2.5rem);
            font-weight: 200;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .thought-card .date {
            color: #9d7fff;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .thought-card .thought-preview {
            font-size: clamp(1.1rem, 2.2vw, 1.3rem);
            line-height: 1.6;
            color: #ccc;
        }

        /* Personal Quote Section */
        .quote-section {
            text-align: center;
            padding: 6rem 2rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0%, rgba(255, 255, 255, 0.005) 100%);
        }

        .quote-text {
            font-size: clamp(1.8rem, 4vw, 3rem);
            font-weight: 200;
            line-height: 1.3;
            color: #fff;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .quote-author {
            font-size: 1.2rem;
            color: #666;
        }

        /* Contact Call-to-Action */
        .contact-cta {
            text-align: center;
            padding: 4rem 2rem;
        }

        .cta-text {
            font-size: clamp(1.5rem, 3vw, 2.2rem);
            margin-bottom: 2rem;
            color: #ddd;
        }

        .contact-methods {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .contact-method {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 2rem;
            border-radius: 15px;
            text-decoration: none;
            color: #fff;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .contact-method:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        /* Footer with Admin */
        .footer {
            text-align: center;
            padding: 3rem 2rem;
            color: #444;
            font-size: 0.85rem;
            position: relative;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .admin-button {
            background: none;
            border: none;
            color: #444;
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.85rem;
            transition: color 0.3s;
        }

        .admin-button:hover {
            color: #888;
        }

        /* All the admin panel styles remain the same */
        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .login-modal.active {
            display: flex;
        }

        .login-box {
            background: #111;
            padding: 2rem;
            border-radius: 10px;
            border: 1px solid #333;
            max-width: 400px;
            width: 90%;
        }

        .login-box h3 {
            margin-bottom: 1.5rem;
            color: #fff;
            font-weight: 300;
            font-size: 1.5rem;
        }

        .login-box input {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 5px;
            color: #fff;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .login-box input:focus {
            outline: none;
            border-color: #666;
        }

        .login-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .login-buttons button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .login-buttons .cancel {
            background: #333;
            color: #fff;
        }

        .login-buttons .cancel:hover {
            background: #444;
        }

        .login-buttons .login {
            background: #0066cc;
            color: #fff;
        }

        .login-buttons .login:hover {
            background: #0052a3;
        }

        /* Admin Panel - Improved Styles */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            z-index: 20000;
            overflow-y: auto;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-header {
            background: #111;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header h2 {
            font-size: 1.5rem;
            font-weight: 300;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav button {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .admin-nav button:hover,
        .admin-nav button.active {
            background: rgba(255, 255, 255, 0.1);
            border-color: #666;
        }

        .admin-content {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .edit-group {
            background: #111;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #333;
            margin-bottom: 2rem;
        }

        .edit-group h3 {
            margin-bottom: 1rem;
            color: #fff;
            font-weight: 300;
            font-size: 1.3rem;
        }

        .edit-field {
            margin-bottom: 1.5rem;
        }

        .edit-field label {
            display: block;
            margin-bottom: 0.5rem;
            color: #aaa;
            font-size: 0.9rem;
        }

        .edit-field input,
        .edit-field textarea {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 5px;
            color: #fff;
            font-size: 1rem;
            font-family: inherit;
        }

        .edit-field textarea {
            min-height: 150px;
            resize: vertical;
        }

        .edit-field input:focus,
        .edit-field textarea:focus {
            outline: none;
            border-color: #666;
        }

        /* Rich Editor Styles */
        .editor-toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
        }

        .editor-button {
            padding: 0.5rem 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85rem;
        }

        .editor-button:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #666;
        }

        .editor-button.active {
            background: #0066cc;
            border-color: #0066cc;
        }

        .editor-content {
            width: 100%;
            min-height: 300px;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 5px;
            color: #fff;
            font-size: 1rem;
            line-height: 1.6;
            overflow-y: auto;
        }

        .editor-content:focus {
            outline: none;
            border-color: #666;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .save-button {
            background: #0066cc;
            color: #fff;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .save-button:hover {
            background: #0052a3;
        }

        .delete-button {
            background: #aa0000;
            color: #fff;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .delete-button:hover {
            background: #880000;
        }

        .add-new-button {
            background: #00aa00;
            color: #fff;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 1.5rem;
        }

        .add-new-button:hover {
            background: #008800;
        }

        /* Detail Pages */
        .detail-page {
            display: none;
            min-height: 100vh;
            padding: 6rem 2rem 4rem;
        }

        .detail-page.active {
            display: block;
        }

        .detail-content {
            max-width: 800px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
            animation-delay: 0.3s;
        }

        .detail-content h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 2rem;
            font-weight: 200;
            animation-delay: 0.3s;
        }

        .detail-content .detail-meta {
            color: #666;
            margin-bottom: 3rem;
            font-size: 1.1rem;
        }

        .detail-content .detail-body {
            line-height: 1.8;
            font-size: 1.2rem;
            color: #ddd;
        }

        .detail-content .detail-body p {
            margin-bottom: 1.5rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-text {
            font-size: 1.2rem;
            color: #666;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: #111;
            color: #fff;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            border: 1px solid #333;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            z-index: 30000;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast.success {
            border-color: #00aa00;
        }

        .toast.error {
            border-color: #aa0000;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .cursor, .cursor-follower {
                display: none;
            }
            
            body {
                cursor: auto;
            }

            .stats-bar {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
            }

            .contact-methods {
                flex-direction: column;
                align-items: center;
            }

            .story-card:hover,
            .thought-card:hover {
                transform: none;
            }

            .floating-element {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="loading-text">Preparing my story...</div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Floating Personal Elements -->
    <div class="floating-element">🎷</div>
    <div class="floating-element">💻</div>
    <div class="floating-element">🎹</div>
    <div class="floating-element">⚖️</div>
    <div class="floating-element">🏀</div>
    <div class="floating-element">🌱</div>

    <!-- Navigation -->
    <nav class="nav-bar" id="nav-bar">
        <button class="back-button" onclick="navigateToHome()">← Back to My Story</button>
    </nav>

    <!-- Custom Cursor -->
    <div class="cursor"></div>
    <div class="cursor-follower"></div>

    <!-- Three.js Canvas -->
    <canvas id="canvas"></canvas>

    <!-- Content -->
    <div class="content" id="main-content">
        <!-- Hero Section - Elevator Pitch Style -->
        <section id="hero">
            <div class="container">
                <div class="hero-intro" id="hero-intro">Hi there! Let me tell you who I am in 30 seconds...</div>
                <h1 class="hero-name" id="hero-name">I'm Aditya</h1>
                <div class="elevator-pitch" id="elevator-pitch">
                    A 17-year-old who believes that the intersection of music, technology, and leadership is where the magic happens. I'm the kid who codes AI models in the morning, leads jazz solos in the afternoon, and tackles ethical dilemmas on the Honor Council in between.
                </div>
                <div class="personal-touch" id="personal-touch">
                    What makes me different? I see patterns everywhere—from chord progressions to code logic to human behavior. My superpower? Turning complexity into clarity, whether it's explaining AI to classmates or helping resolve conflicts through restorative justice.
                </div>
                
                <div class="stats-bar">
                    <div class="stat">
                        <span class="stat-number" id="stat-gpa">4.0</span>
                        <span class="stat-label">Unweighted GPA</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="stat-instruments">4</span>
                        <span class="stat-label">Instruments</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="stat-years">12+</span>
                        <span class="stat-label">Years Music</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="stat-leadership">8</span>
                        <span class="stat-label">Student Body Elect</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Journey Section -->
        <section id="journey">
            <div class="container">
                <div class="section-header">
                    <div class="section-subtitle">The Story So Far</div>
                    <h2 class="section-title">My Journey</h2>
                </div>
                <div id="journey-container">
                    <!-- Journey stories will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Personal Quote -->
        <section class="quote-section">
            <div class="container">
                <div class="quote-text" id="personal-quote">
                    "I don't just want to use AI—I want to help shape it. The decisions we make about technology today will define the world my generation inherits tomorrow."
                </div>
                <div class="quote-author">— My personal mission</div>
            </div>
        </section>

        <!-- Thoughts Section -->
        <section id="thoughts">
            <div class="container">
                <div class="section-header">
                    <div class="section-subtitle">What I'm Thinking About</div>
                    <h2 class="section-title">Recent Thoughts</h2>
                </div>
                <div id="thoughts-container">
                    <!-- Thoughts will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Contact CTA -->
        <section class="contact-cta">
            <div class="container">
                <div class="cta-text" id="cta-text">
                    Want to collaborate, chat about AI ethics, or jam together? I'm always up for meaningful conversations.
                </div>
                <div class="contact-methods">
                    <a href="mailto:aditya@example.com" class="contact-method">
                        📧 Let's Talk
                    </a>
                    <a href="https://linkedin.com/in/aditya" class="contact-method">
                        💼 Connect
                    </a>
                </div>
            </div>
        </section>

        <!-- Footer with Admin -->
        <footer class="footer">
            <div class="footer-content">
                <span>© 2025 Aditya Jhalani • Crafted with passion and code</span>
                <span>•</span>
                <button class="admin-button" onclick="showLoginModal()">Admin</button>
            </div>
        </footer>
    </div>

    <!-- Detail Pages Container -->
    <div id="detail-pages">
        <!-- Detail pages will be dynamically created -->
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="login-modal">
        <div class="login-box">
            <h3>Admin Login</h3>
            <input type="password" id="admin-password" placeholder="Enter password" onkeypress="if(event.key==='Enter') attemptLogin()">
            <div class="login-buttons">
                <button class="cancel" onclick="hideLoginModal()">Cancel</button>
                <button class="login" onclick="attemptLogin()">Login</button>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="admin-panel">
        <div class="admin-header">
            <h2>Personal Story Editor</h2>
            <div class="admin-nav">
                <button class="active" onclick="switchAdminTab('profile')">Personal Info</button>
                <button onclick="switchAdminTab('journey')">My Journey</button>
                <button onclick="switchAdminTab('thoughts')">Thoughts</button>
                <button onclick="exitAdmin()">Exit Admin</button>
            </div>
        </div>
        
        <div class="admin-content">
            <!-- Profile Section -->
            <div class="admin-section active" id="admin-profile">
                <div class="edit-group">
                    <h3>Hero Section - Elevator Pitch</h3>
                    <div class="edit-field">
                        <label>Opening Line</label>
                        <input type="text" id="edit-hero-intro" value="Hi there! Let me tell you who I am in 30 seconds...">
                    </div>
                    <div class="edit-field">
                        <label>Name Display</label>
                        <input type="text" id="edit-hero-name" value="I'm Aditya">
                    </div>
                    <div class="edit-field">
                        <label>Main Elevator Pitch</label>
                        <textarea id="edit-elevator-pitch">A 17-year-old who believes that the intersection of music, technology, and leadership is where the magic happens. I'm the kid who codes AI models in the morning, leads jazz solos in the afternoon, and tackles ethical dilemmas on the Honor Council in between.</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Personal Touch</label>
                        <textarea id="edit-personal-touch">What makes me different? I see patterns everywhere—from chord progressions to code logic to human behavior. My superpower? Turning complexity into clarity, whether it's explaining AI to classmates or helping resolve conflicts through restorative justice.</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Personal Quote</label>
                        <textarea id="edit-personal-quote">I don't just want to use AI—I want to help shape it. The decisions we make about technology today will define the world my generation inherits tomorrow.</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Contact CTA Text</label>
                        <textarea id="edit-cta-text">Want to collaborate, chat about AI ethics, or jam together? I'm always up for meaningful conversations.</textarea>
                    </div>
                </div>
                
                <div class="edit-group">
                    <h3>Personal Stats</h3>
                    <div class="edit-field">
                        <label>GPA</label>
                        <input type="text" id="edit-stat-gpa" value="4.0">
                    </div>
                    <div class="edit-field">
                        <label>Number of Instruments</label>
                        <input type="text" id="edit-stat-instruments" value="4">
                    </div>
                    <div class="edit-field">
                        <label>Years of Music</label>
                        <input type="text" id="edit-stat-years" value="12+">
                    </div>
                    <div class="edit-field">
                        <label>Leadership Note</label>
                        <input type="text" id="edit-stat-leadership" value="8">
                    </div>
                </div>
                
                <button class="save-button" onclick="saveProfile()">Save Personal Info</button>
            </div>

            <!-- Journey Section -->
            <div class="admin-section" id="admin-journey">
                <button class="add-new-button" onclick="addNewJourneyStory()">+ Add New Story</button>
                <div id="journey-editor">
                    <!-- Journey editors will be dynamically loaded here -->
                </div>
            </div>

            <!-- Thoughts Section -->
            <div class="admin-section" id="admin-thoughts">
                <button class="add-new-button" onclick="addNewThought()">+ Add New Thought</button>
                <div id="thoughts-editor">
                    <!-- Thought editors will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Data Storage - Elevator Pitch Style
        let siteData = {
            profile: {
                intro: "Hi there! Let me tell you who I am in 30 seconds...",
                name: "I'm Aditya",
                elevatorPitch: "A 17-year-old who believes that the intersection of music, technology, and leadership is where the magic happens. I'm the kid who codes AI models in the morning, leads jazz solos in the afternoon, and tackles ethical dilemmas on the Honor Council in between.",
                personalTouch: "What makes me different? I see patterns everywhere—from chord progressions to code logic to human behavior. My superpower? Turning complexity into clarity, whether it's explaining AI to classmates or helping resolve conflicts through restorative justice.",
                personalQuote: "I don't just want to use AI—I want to help shape it. The decisions we make about technology today will define the world my generation inherits tomorrow.",
                ctaText: "Want to collaborate, chat about AI ethics, or jam together? I'm always up for meaningful conversations.",
                stats: {
                    gpa: "4.0",
                    instruments: "4",
                    years: "12+",
                    leadership: "8"
                }
            },
            journey: [
                {
                    id: 'journey-1',
                    icon: '🎷',
                    meta: 'Music Journey • 6+ Years',
                    title: 'From Practice Room to Stage Leadership',
                    elevatorLine: "Six years ago, I picked up a saxophone. Today, I'm leading Trinity School's Jazz Band to gold medals and discovering how improvisation teaches you to think on your feet—a skill that's surprisingly useful in coding and leadership.",
                    personalDetail: "The truth? Jazz taught me that the best solutions often come from listening to others, finding the right moment to contribute, and sometimes knowing when to step back. These lessons show up everywhere in my life.",
                    content: {
                        title: 'From Practice Room to Stage Leadership',
                        meta: 'Music Journey • 6+ Years',
                        body: [
                            {type: 'paragraph', content: 'My relationship with music started long before I picked up the saxophone. At age 4, I began learning piano, and over 12+ years, it became my foundation for understanding harmony, rhythm, and the discipline that excellence requires.'},
                            {type: 'paragraph', content: 'But jazz saxophone? That changed everything. Six years ago, when I first held that alto sax, I had no idea it would teach me lessons about leadership, collaboration, and creative problem-solving that would shape how I approach everything from coding to conflict resolution.'},
                            {type: 'paragraph', content: 'Leading Trinity School\'s Jazz Band has been one of my most formative experiences. When our ensemble won Gold at the WorldStrides Competition, it wasn\'t just about individual skill—it was about creating something greater than the sum of our parts. Every Thursday at jazz club, we experiment with improvisation and push creative boundaries together.'},
                            {type: 'paragraph', content: 'The improvisation skills I\'ve developed in jazz directly translate to my approach to programming and AI development. Both require pattern recognition, creative problem-solving, and the confidence to explore uncharted territory while staying grounded in fundamental principles.'}
                        ]
                    }
                },
                {
                    id: 'journey-2',
                    icon: '⚖️',
                    meta: 'Leadership • 2024-Present',
                    title: 'Elected to Uphold What Matters',
                    elevatorLine: "Out of our entire student body, only 8 students get elected to Honor Council. I'm one of them. My job? Making sure our community stays true to its values while showing that discipline can be compassionate.",
                    personalDetail: "Being trusted with this role taught me that real leadership isn't about power—it's about service, difficult conversations, and finding solutions that help people grow rather than just punishing mistakes.",
                    content: {
                        title: 'Elected to Uphold What Matters',
                        meta: 'Leadership • 2024-Present',
                        body: [
                            {type: 'paragraph', content: 'Being elected to Trinity School\'s Honor Council Board represents more than just recognition—it\'s a responsibility that shapes how I think about ethics, leadership, and human nature every day.'},
                            {type: 'paragraph', content: 'Out of our entire student body, only eight students are chosen for this role. We serve on the School Disciplinary Council, where we review cases of potential honor code violations and work to maintain the integrity that defines our community.'},
                            {type: 'paragraph', content: 'What I find most meaningful about this role is our focus on restorative rather than punitive justice. Every case we review is an opportunity to help a fellow student learn and grow. We believe in second chances and the power of honest reflection.'},
                            {type: 'paragraph', content: 'This experience has profoundly shaped my understanding of ethical decision-making and reinforced my commitment to building AI systems that serve humanity responsibly. The conversations we have about intent, impact, and accountability directly inform how I think about technology ethics.'}
                        ]
                    }
                },
                {
                    id: 'journey-3',
                    icon: '💻',
                    meta: 'Tech Journey • 2022-Present',
                    title: 'Building Tomorrow, One Line at a Time',
                    elevatorLine: "I'm not just using AI—I'm learning to build it. Proficient in Python, Java, CSS, and HTML, I work with models like ChatGPT, Claude, and Gemini to explore how technology can solve real problems.",
                    personalDetail: "My Johns Hopkins CTY Advanced Macroeconomics summer showed me how AI is revolutionizing economic modeling. Now I'm fascinated by the intersection of AI and education—how can we make learning more personal and accessible?",
                    content: {
                        title: 'Building Tomorrow, One Line at a Time',
                        meta: 'Tech Journey • 2022-Present',
                        body: [
                            {type: 'paragraph', content: 'My fascination with technology began with a simple Python script, but it quickly evolved into something much deeper—a passion for understanding how artificial intelligence can solve real-world problems and improve human lives.'},
                            {type: 'paragraph', content: 'I\'ve become proficient in Python, Java, CSS, and HTML, using these tools to build various projects and explore the capabilities of AI models like ChatGPT, Claude, Gemini, and ElevenLabs. Each interaction teaches me something new about the potential and limitations of current AI systems.'},
                            {type: 'paragraph', content: 'During my Advanced Macroeconomics course at Johns Hopkins CTY, I saw firsthand how AI is revolutionizing economic modeling and data analysis. This experience opened my eyes to the transformative potential of machine learning across disciplines.'},
                            {type: 'paragraph', content: 'I\'m particularly interested in the intersection of AI and education. How can we create personalized learning experiences that adapt to individual needs? How can we make quality education more accessible globally? These questions drive my exploration of educational technology and AI ethics.'}
                        ]
                    }
                },
                {
                    id: 'journey-4',
                    icon: '🌱',
                    meta: 'Personal Growth • Ongoing',
                    title: 'More Than Just Academics',
                    elevatorLine: "4.0 GPA? That's just the beginning. I'm also on the basketball court, in environmental advocacy meetings, and leading financial literacy discussions. Balance isn't just about time management—it's about being fully present in each moment.",
                    personalDetail: "Being part of the Men of Color affinity group has taught me the importance of diverse voices in every conversation, especially when we're building the AI systems that will shape our future.",
                    content: {
                        title: 'More Than Just Academics',
                        meta: 'Personal Growth • Ongoing',
                        body: [
                            {type: 'paragraph', content: 'Maintaining a 4.0 unweighted GPA while pursuing multiple passions has taught me that excellence isn\'t just about perfect grades—it\'s about bringing your full self to everything you do.'},
                            {type: 'paragraph', content: 'On the basketball court, I\'ve learned about teamwork, resilience, and staying calm under pressure. These lessons translate directly to leading jazz performances and navigating challenging Honor Council discussions.'},
                            {type: 'paragraph', content: 'My involvement in environmental advocacy through our school\'s sustainability committee reflects my belief that technology should serve the planet, not harm it. As we develop AI systems, we must consider their environmental impact and potential for addressing climate change.'},
                            {type: 'paragraph', content: 'Participating in our Men of Color affinity group has been particularly meaningful, opening my eyes to the importance of diverse perspectives in all areas, especially in AI development where bias can have real-world consequences. These conversations have shaped my commitment to inclusive technology design.'}
                        ]
                    }
                }
            ],
            thoughts: [
                {
                    id: 'thought-1',
                    title: "Why My Generation Will Define AI Ethics",
                    date: 'January 2025',
                    preview: "We're not just users of AI—we're the first generation to grow up alongside it. That gives us a unique perspective and responsibility. Through my Honor Council work and discussions in our Men of Color affinity group, I've learned that the voices we include in AI development today will determine whether these systems serve everyone or just a privileged few...",
                    content: {
                        title: "Why My Generation Will Define AI Ethics",
                        meta: 'January 2025 • A personal reflection',
                        body: [
                            {type: 'paragraph', content: 'As a member of Generation Z, I have a front-row seat to the AI revolution. We\'re not just passive consumers of this technology—we\'re the first generation to grow up with AI as a constant companion, and that gives us both unique insights and profound responsibilities.'},
                            {type: 'paragraph', content: 'My work on Trinity School\'s Honor Council has taught me that ethical decision-making isn\'t about rigid rules—it\'s about understanding context, considering impact, and prioritizing human dignity. These same principles must guide AI development.'},
                            {type: 'paragraph', content: 'Through discussions in our Men of Color affinity group, I\'ve gained deep insights into how bias in AI systems can perpetuate existing inequalities. When facial recognition fails on darker skin tones or language models reflect societal prejudices, we\'re not just seeing technical problems—we\'re witnessing ethical failures with real consequences.'},
                            {type: 'paragraph', content: 'What gives me hope is that my generation isn\'t waiting for permission to shape this future. We\'re asking hard questions now: Who gets to build these systems? Whose voices are heard in the design process? How do we ensure AI serves humanity rather than replacing it?'},
                            {type: 'paragraph', content: 'The decisions we make about AI today will define the world I\'ll live in for the next 60+ years. That\'s why I\'m committed to being part of the solution—not just as a user of AI, but as someone working to ensure its development is ethical, inclusive, and human-centered.'}
                        ]
                    }
                },
                {
                    id: 'thought-2',
                    title: 'What Jazz Taught Me About AI',
                    date: 'December 2024',
                    preview: "Six years of jazz improvisation has given me unexpected insights into artificial intelligence. Both require pattern recognition, creative problem-solving, and the courage to explore uncharted territory. But there's something jazz has that AI still lacks—soul, intention, and the magic of human collaboration...",
                    content: {
                        title: 'What Jazz Taught Me About AI',
                        meta: 'December 2024 • Connecting my passions',
                        body: [
                            {type: 'paragraph', content: 'After six years of playing jazz, I\'ve realized that improvisation and AI development have more in common than you might think. Both require deep pattern recognition, the ability to build on existing frameworks while creating something new, and the confidence to venture into unknown territory.'},
                            {type: 'paragraph', content: 'When I\'m soloing over chord changes, I\'m essentially doing real-time machine learning—recognizing harmonic patterns, predicting what will sound good next, and generating melodic lines that fit the context while expressing something uniquely mine.'},
                            {type: 'paragraph', content: 'I\'ve experimented with AI tools that analyze jazz harmony and suggest chord progressions. They\'re impressive at pattern matching and can propose variations that are theoretically sound. But they miss something crucial—the emotional weight of a blue note, the tension before a resolution, the shared breath between musicians that creates magic.'},
                            {type: 'paragraph', content: 'This has taught me that the future of AI isn\'t about replacing human creativity—it\'s about augmenting it. AI can handle the computational heavy lifting, analyze vast databases of musical knowledge, and suggest possibilities we might not consider. But the soul, the intention, the story we\'re trying to tell—that remains uniquely human.'},
                            {type: 'paragraph', content: 'As I continue exploring both music and AI, I\'m convinced that the most beautiful innovations will come from collaboration between human creativity and artificial intelligence, each contributing what they do best to create something neither could achieve alone.'}
                        ]
                    }
                },
                {
                    id: 'thought-3',
                    title: 'The Question That Keeps Me Up at Night',
                    date: 'November 2024',
                    preview: "If AI can write essays, solve math problems, and even compose music, what makes us uniquely human? Through my Honor Council work, I've learned that our humanity lies not in what we can do, but in how we choose to do it. Ethics, empathy, and moral reasoning—these are our superpowers in an AI world...",
                    content: {
                        title: 'The Question That Keeps Me Up at Night',
                        meta: 'November 2024 • Late-night reflections',
                        body: [
                            {type: 'paragraph', content: 'As someone who works with AI daily and maintains a 4.0 GPA while balancing multiple commitments, I often wonder: if AI can write better essays than most students and solve complex problems faster than humans, what makes us irreplaceable?'},
                            {type: 'paragraph', content: 'My Honor Council experience has given me a unique perspective on this question. When we review cases of academic dishonesty, we don\'t just examine what was done—we explore why it happened, what circumstances led to the decision, and how we can help the student grow.'},
                            {type: 'paragraph', content: 'This process has taught me that our humanity lies not in our ability to process information or solve problems—AI will likely surpass us in these areas. Our uniqueness lies in our capacity for ethical reasoning, empathy, and moral growth.'},
                            {type: 'paragraph', content: 'AI can generate a technically perfect essay about the importance of honesty, but it can\'t feel the weight of disappointing someone you respect. It can suggest optimal solutions to conflicts, but it can\'t experience the satisfaction of helping someone find their way back to their values.'},
                            {type: 'paragraph', content: 'This is why I believe the future belongs to humans who can work alongside AI while maintaining their ethical compass. We need people who can harness the power of artificial intelligence while ensuring it serves human flourishing, not just human convenience.'}
                        ]
                    }
                }
            ]
        };

        // Load data from localStorage
        function loadData() {
            const savedData = localStorage.getItem('portfolioData');
            if (savedData) {
                try {
                    const loaded = JSON.parse(savedData);
                    // Merge with default data to ensure all fields exist
                    siteData = {
                        profile: { ...siteData.profile, ...(loaded.profile || {}) },
                        journey: loaded.journey || siteData.journey,
                        thoughts: loaded.thoughts || siteData.thoughts
                    };
                    // Ensure stats object exists
                    if (!siteData.profile.stats) {
                        siteData.profile.stats = {
                            gpa: "4.0",
                            instruments: "4",
                            years: "12+",
                            leadership: "8"
                        };
                    }
                } catch (e) {
                    console.error('Error loading saved data:', e);
                }
            }
            renderContent();
        }

        // Save data to localStorage
        function saveData() {
            try {
                localStorage.setItem('portfolioData', JSON.stringify(siteData));
            } catch (e) {
                console.error('Error saving data:', e);
                showToast('Failed to save data', 'error');
            }
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            try {
                const toast = document.getElementById('toast');
                if (toast) {
                    toast.textContent = message;
                    toast.className = `toast show ${type}`;
                    
                    setTimeout(() => {
                        if (toast) {
                            toast.classList.remove('show');
                        }
                    }, 3000);
                }
            } catch (error) {
                console.error('Error showing toast:', error);
            }
        }

        // Convert content structure to HTML
        function contentToHTML(content) {
            try {
                if (!content || !content.title) return '<p>Content not available</p>';
                
                let html = `<h1>${content.title}</h1>`;
                html += `<div class="detail-meta">${content.meta || ''}</div>`;
                html += '<div class="detail-body">';
                
                if (content.body && Array.isArray(content.body)) {
                    content.body.forEach(item => {
                        if (!item || !item.type) return;
                        
                        switch(item.type) {
                            case 'paragraph':
                                html += `<p>${item.content || ''}</p>`;
                                break;
                            case 'heading1':
                                html += `<h1>${item.content || ''}</h1>`;
                                break;
                            case 'heading2':
                                html += `<h2>${item.content || ''}</h2>`;
                                break;
                            case 'heading3':
                                html += `<h3>${item.content || ''}</h3>`;
                                break;
                            case 'image':
                                html += `<img src="${item.src || ''}" alt="${item.alt || ''}">`;
                                break;
                            case 'list':
                                html += item.ordered ? '<ol>' : '<ul>';
                                if (item.items && Array.isArray(item.items)) {
                                    item.items.forEach(li => {
                                        html += `<li>${li || ''}</li>`;
                                    });
                                }
                                html += item.ordered ? '</ol>' : '</ul>';
                                break;
                            case 'quote':
                                html += `<blockquote>${item.content || ''}</blockquote>`;
                                break;
                        }
                    });
                }
                
                html += '</div>';
                return html;
            } catch (error) {
                console.error('Error in contentToHTML:', error);
                return '<p>Error loading content</p>';
            }
        }

        // Render main content
        function renderContent() {
            try {
                // Update profile with safe property access
                const heroIntro = document.getElementById('hero-intro');
                const heroName = document.getElementById('hero-name');
                const elevatorPitch = document.getElementById('elevator-pitch');
                const personalTouch = document.getElementById('personal-touch');
                const personalQuote = document.getElementById('personal-quote');
                const ctaText = document.getElementById('cta-text');

                if (heroIntro && siteData.profile?.intro) heroIntro.textContent = siteData.profile.intro;
                if (heroName && siteData.profile?.name) heroName.textContent = siteData.profile.name;
                if (elevatorPitch && siteData.profile?.elevatorPitch) elevatorPitch.textContent = siteData.profile.elevatorPitch;
                if (personalTouch && siteData.profile?.personalTouch) personalTouch.textContent = siteData.profile.personalTouch;
                if (personalQuote && siteData.profile?.personalQuote) personalQuote.textContent = siteData.profile.personalQuote;
                if (ctaText && siteData.profile?.ctaText) ctaText.textContent = siteData.profile.ctaText;

                // Update stats with safe property access
                const statGpa = document.getElementById('stat-gpa');
                const statInstruments = document.getElementById('stat-instruments');
                const statYears = document.getElementById('stat-years');
                const statLeadership = document.getElementById('stat-leadership');

                if (statGpa && siteData.profile?.stats?.gpa) statGpa.textContent = siteData.profile.stats.gpa;
                if (statInstruments && siteData.profile?.stats?.instruments) statInstruments.textContent = siteData.profile.stats.instruments;
                if (statYears && siteData.profile?.stats?.years) statYears.textContent = siteData.profile.stats.years;
                if (statLeadership && siteData.profile?.stats?.leadership) statLeadership.textContent = siteData.profile.stats.leadership;

                // Render journey
                const journeyContainer = document.getElementById('journey-container');
                if (journeyContainer && siteData.journey) {
                    journeyContainer.innerHTML = '';
                    siteData.journey.forEach(story => {
                        const div = document.createElement('div');
                        div.className = 'story-card';
                        div.id = story.id;
                        div.onclick = () => navigateToDetail(story.id);
                        div.innerHTML = `
                            <div class="story-meta">
                                <span class="story-icon">${story.icon || '✨'}</span>
                                <span>${story.meta || ''}</span>
                            </div>
                            <h3>${story.title || 'Untitled Story'}</h3>
                            <div class="elevator-line">${story.elevatorLine || ''}</div>
                            <div class="personal-detail">${story.personalDetail || ''}</div>
                        `;
                        journeyContainer.appendChild(div);
                    });
                }

                // Render thoughts
                const thoughtsContainer = document.getElementById('thoughts-container');
                if (thoughtsContainer && siteData.thoughts) {
                    thoughtsContainer.innerHTML = '';
                    siteData.thoughts.forEach(thought => {
                        const div = document.createElement('div');
                        div.className = 'thought-card';
                        div.id = thought.id;
                        div.onclick = () => navigateToDetail(thought.id);
                        div.innerHTML = `
                            <h3>${thought.title || 'Untitled Thought'}</h3>
                            <div class="date">${thought.date || ''}</div>
                            <div class="thought-preview">${thought.preview || ''}</div>
                        `;
                        thoughtsContainer.appendChild(div);
                    });
                }

                // Re-observe for animations
                observeElements();
            } catch (error) {
                console.error('Error in renderContent:', error);
            }
        }

        // Navigation functions
        function navigateToDetail(id) {
            try {
                const mainContent = document.getElementById('main-content');
                const navBar = document.getElementById('nav-bar');
                
                if (mainContent) mainContent.style.display = 'none';
                if (navBar) navBar.classList.add('visible');
                
                // Find the content
                let content = null;
                const journeyStory = siteData.journey?.find(s => s.id === id);
                const thought = siteData.thoughts?.find(t => t.id === id);
                
                if (journeyStory) content = journeyStory.content;
                if (thought) content = thought.content;
                
                if (content) {
                    // Create or update detail page
                    let detailPage = document.getElementById(`detail-${id}`);
                    if (!detailPage) {
                        detailPage = document.createElement('div');
                        detailPage.className = 'detail-page';
                        detailPage.id = `detail-${id}`;
                        const detailPagesContainer = document.getElementById('detail-pages');
                        if (detailPagesContainer) {
                            detailPagesContainer.appendChild(detailPage);
                        }
                    }
                    
                    if (detailPage) {
                        detailPage.innerHTML = `<div class="detail-content">${contentToHTML(content)}</div>`;
                        
                        // Hide all detail pages
                        document.querySelectorAll('.detail-page').forEach(page => {
                            if (page && page.classList) {
                                page.classList.remove('active');
                            }
                        });
                        
                        // Show the selected detail page
                        detailPage.classList.add('active');
                    }
                }
                
                // Scroll to top
                window.scrollTo(0, 0);
            } catch (error) {
                console.error('Error in navigateToDetail:', error);
            }
        }

        function navigateToHome() {
            try {
                const mainContent = document.getElementById('main-content');
                const navBar = document.getElementById('nav-bar');
                
                if (mainContent) mainContent.style.display = 'block';
                if (navBar) navBar.classList.remove('visible');
                
                // Hide all detail pages
                document.querySelectorAll('.detail-page').forEach(page => {
                    if (page && page.classList) {
                        page.classList.remove('active');
                    }
                });
                
                // Scroll to top
                window.scrollTo(0, 0);
            } catch (error) {
                console.error('Error in navigateToHome:', error);
            }
        }

        // Admin functions
        const ADMIN_PASSWORD = "trinity2028";

        function showLoginModal() {
            try {
                const modal = document.getElementById('login-modal');
                const passwordInput = document.getElementById('admin-password');
                if (modal) modal.classList.add('active');
                if (passwordInput) passwordInput.focus();
            } catch (error) {
                console.error('Error in showLoginModal:', error);
            }
        }

        function hideLoginModal() {
            try {
                const modal = document.getElementById('login-modal');
                const passwordInput = document.getElementById('admin-password');
                if (modal) modal.classList.remove('active');
                if (passwordInput) passwordInput.value = '';
            } catch (error) {
                console.error('Error in hideLoginModal:', error);
            }
        }

        function attemptLogin() {
            try {
                const passwordInput = document.getElementById('admin-password');
                const password = passwordInput ? passwordInput.value : '';
                if (password === ADMIN_PASSWORD) {
                    hideLoginModal();
                    showAdminPanel();
                } else {
                    showToast('Incorrect password', 'error');
                    if (passwordInput) passwordInput.value = '';
                }
            } catch (error) {
                console.error('Error in attemptLogin:', error);
            }
        }

        function showAdminPanel() {
            try {
                const panel = document.getElementById('admin-panel');
                if (panel) panel.classList.add('active');
                loadAdminData();
            } catch (error) {
                console.error('Error in showAdminPanel:', error);
            }
        }

        function exitAdmin() {
            try {
                const panel = document.getElementById('admin-panel');
                if (panel) panel.classList.remove('active');
            } catch (error) {
                console.error('Error in exitAdmin:', error);
            }
        }

        function switchAdminTab(tab) {
            try {
                // Update nav buttons
                document.querySelectorAll('.admin-nav button').forEach(btn => {
                    if (btn && btn.classList) {
                        btn.classList.remove('active');
                    }
                });
                if (event.target && event.target.classList) {
                    event.target.classList.add('active');
                }

                // Show correct section
                document.querySelectorAll('.admin-section').forEach(section => {
                    if (section && section.classList) {
                        section.classList.remove('active');
                    }
                });
                const targetSection = document.getElementById(`admin-${tab}`);
                if (targetSection && targetSection.classList) {
                    targetSection.classList.add('active');
                }
            } catch (error) {
                console.error('Error in switchAdminTab:', error);
            }
        }

        function loadAdminData() {
            try {
                // Load profile data with safe property access
                const editIntro = document.getElementById('edit-hero-intro');
                const editName = document.getElementById('edit-hero-name');
                const editPitch = document.getElementById('edit-elevator-pitch');
                const editTouch = document.getElementById('edit-personal-touch');
                const editQuote = document.getElementById('edit-personal-quote');
                const editCta = document.getElementById('edit-cta-text');

                if (editIntro && siteData.profile?.intro) editIntro.value = siteData.profile.intro;
                if (editName && siteData.profile?.name) editName.value = siteData.profile.name;
                if (editPitch && siteData.profile?.elevatorPitch) editPitch.value = siteData.profile.elevatorPitch;
                if (editTouch && siteData.profile?.personalTouch) editTouch.value = siteData.profile.personalTouch;
                if (editQuote && siteData.profile?.personalQuote) editQuote.value = siteData.profile.personalQuote;
                if (editCta && siteData.profile?.ctaText) editCta.value = siteData.profile.ctaText;
                
                // Load stats with safe property access
                const editGpa = document.getElementById('edit-stat-gpa');
                const editInstruments = document.getElementById('edit-stat-instruments');
                const editYears = document.getElementById('edit-stat-years');
                const editLeadership = document.getElementById('edit-stat-leadership');

                if (editGpa && siteData.profile?.stats?.gpa) editGpa.value = siteData.profile.stats.gpa;
                if (editInstruments && siteData.profile?.stats?.instruments) editInstruments.value = siteData.profile.stats.instruments;
                if (editYears && siteData.profile?.stats?.years) editYears.value = siteData.profile.stats.years;
                if (editLeadership && siteData.profile?.stats?.leadership) editLeadership.value = siteData.profile.stats.leadership;

                // Load journey and thoughts
                renderJourneyEditors();
                renderThoughtEditors();
            } catch (error) {
                console.error('Error in loadAdminData:', error);
            }
        }

        function saveProfile() {
            siteData.profile.intro = document.getElementById('edit-hero-intro').value;
            siteData.profile.name = document.getElementById('edit-hero-name').value;
            siteData.profile.elevatorPitch = document.getElementById('edit-elevator-pitch').value;
            siteData.profile.personalTouch = document.getElementById('edit-personal-touch').value;
            siteData.profile.personalQuote = document.getElementById('edit-personal-quote').value;
            siteData.profile.ctaText = document.getElementById('edit-cta-text').value;
            
            siteData.profile.stats.gpa = document.getElementById('edit-stat-gpa').value;
            siteData.profile.stats.instruments = document.getElementById('edit-stat-instruments').value;
            siteData.profile.stats.years = document.getElementById('edit-stat-years').value;
            siteData.profile.stats.leadership = document.getElementById('edit-stat-leadership').value;
            
            saveData();
            renderContent();
            showToast('Personal info saved successfully!');
        }

        // Journey editor functions
        function renderJourneyEditors() {
            const container = document.getElementById('journey-editor');
            container.innerHTML = '';
            
            siteData.journey.forEach((story, index) => {
                const div = document.createElement('div');
                div.className = 'edit-group';
                div.innerHTML = `
                    <h3>Journey Story ${index + 1}</h3>
                    <div class="edit-field">
                        <label>Icon (emoji)</label>
                        <input type="text" id="journey-icon-${index}" value="${story.icon}">
                    </div>
                    <div class="edit-field">
                        <label>Meta Info</label>
                        <input type="text" id="journey-meta-${index}" value="${story.meta}">
                    </div>
                    <div class="edit-field">
                        <label>Title</label>
                        <input type="text" id="journey-title-${index}" value="${story.title}">
                    </div>
                    <div class="edit-field">
                        <label>Elevator Pitch Line</label>
                        <textarea id="journey-elevator-${index}">${story.elevatorLine}</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Personal Detail</label>
                        <textarea id="journey-personal-${index}">${story.personalDetail}</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Full Story Content</label>
                        <textarea id="journey-content-${index}" rows="10">${story.content.body.map(item => item.content).join('\n\n')}</textarea>
                    </div>
                    <div class="button-group">
                        <button class="save-button" onclick="saveJourneyStory(${index})">Save Story</button>
                        <button class="delete-button" onclick="deleteJourneyStory(${index})">Delete</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderThoughtEditors() {
            const container = document.getElementById('thoughts-editor');
            container.innerHTML = '';
            
            siteData.thoughts.forEach((thought, index) => {
                const div = document.createElement('div');
                div.className = 'edit-group';
                div.innerHTML = `
                    <h3>Thought ${index + 1}</h3>
                    <div class="edit-field">
                        <label>Title</label>
                        <input type="text" id="thought-title-${index}" value="${thought.title}">
                    </div>
                    <div class="edit-field">
                        <label>Date</label>
                        <input type="text" id="thought-date-${index}" value="${thought.date}">
                    </div>
                    <div class="edit-field">
                        <label>Preview Text</label>
                        <textarea id="thought-preview-${index}" rows="4">${thought.preview}</textarea>
                    </div>
                    <div class="edit-field">
                        <label>Full Content</label>
                        <textarea id="thought-content-${index}" rows="10">${thought.content.body.map(item => item.content).join('\n\n')}</textarea>
                    </div>
                    <div class="button-group">
                        <button class="save-button" onclick="saveThought(${index})">Save Thought</button>
                        <button class="delete-button" onclick="deleteThought(${index})">Delete</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function saveJourneyStory(index) {
            const story = siteData.journey[index];
            story.icon = document.getElementById(`journey-icon-${index}`).value;
            story.meta = document.getElementById(`journey-meta-${index}`).value;
            story.title = document.getElementById(`journey-title-${index}`).value;
            story.elevatorLine = document.getElementById(`journey-elevator-${index}`).value;
            story.personalDetail = document.getElementById(`journey-personal-${index}`).value;
            
            // Update content
            const contentText = document.getElementById(`journey-content-${index}`).value;
            const paragraphs = contentText.split('\n\n').filter(p => p.trim());
            story.content.body = paragraphs.map(p => ({type: 'paragraph', content: p.trim()}));
            story.content.title = story.title;
            
            saveData();
            renderContent();
            showToast('Journey story saved successfully!');
        }

        function saveThought(index) {
            const thought = siteData.thoughts[index];
            thought.title = document.getElementById(`thought-title-${index}`).value;
            thought.date = document.getElementById(`thought-date-${index}`).value;
            thought.preview = document.getElementById(`thought-preview-${index}`).value;
            
            // Update content
            const contentText = document.getElementById(`thought-content-${index}`).value;
            const paragraphs = contentText.split('\n\n').filter(p => p.trim());
            thought.content.body = paragraphs.map(p => ({type: 'paragraph', content: p.trim()}));
            thought.content.title = thought.title;
            thought.content.meta = `${thought.date} • A personal reflection`;
            
            saveData();
            renderContent();
            showToast('Thought saved successfully!');
        }

        function deleteJourneyStory(index) {
            if (confirm('Are you sure you want to delete this journey story?')) {
                siteData.journey.splice(index, 1);
                saveData();
                renderContent();
                renderJourneyEditors();
                showToast('Journey story deleted');
            }
        }

        function deleteThought(index) {
            if (confirm('Are you sure you want to delete this thought?')) {
                siteData.thoughts.splice(index, 1);
                saveData();
                renderContent();
                renderThoughtEditors();
                showToast('Thought deleted');
            }
        }

        function addNewJourneyStory() {
            const newStory = {
                id: `journey-${Date.now()}`,
                icon: '✨',
                meta: 'New Journey • Present',
                title: 'New Journey Story',
                elevatorLine: 'This is your elevator pitch for this story...',
                personalDetail: 'Add your personal touch and insights here...',
                content: {
                    title: 'New Journey Story',
                    meta: 'New Journey • Present',
                    body: [
                        {type: 'paragraph', content: 'Start writing your journey story here...'}
                    ]
                }
            };
            
            siteData.journey.push(newStory);
            saveData();
            renderContent();
            renderJourneyEditors();
            showToast('New journey story added');
        }

        function addNewThought() {
            const newThought = {
                id: `thought-${Date.now()}`,
                title: 'New Thought',
                date: new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }),
                preview: 'This is a preview of your new thought...',
                content: {
                    title: 'New Thought',
                    meta: new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) + ' • A personal reflection',
                    body: [
                        {type: 'paragraph', content: 'Start writing your thought here...'}
                    ]
                }
            };
            
            siteData.thoughts.push(newThought);
            saveData();
            renderContent();
            renderThoughtEditors();
            showToast('New thought added');
        }

        // Three.js setup
        if (typeof THREE === 'undefined') {
            console.error('Three.js failed to load');
        } else {
            // Scene setup
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                canvas: document.getElementById('canvas'), 
                antialias: true, 
                alpha: true 
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(10, 10, 5);
            scene.add(directionalLight);

            // Create more dynamic star field
            const starsCount = 300;
            const starsPositions = new Float32Array(starsCount * 3);
            const starsColors = new Float32Array(starsCount * 3);

            // Generate stars with slight color variations
            for(let i = 0; i < starsCount; i++) {
                starsPositions[i * 3] = (Math.random() - 0.5) * 30;     // x
                starsPositions[i * 3 + 1] = (Math.random() - 0.5) * 30; // y
                starsPositions[i * 3 + 2] = (Math.random() - 0.5) * 30; // z
                
                // Slight blue/white color variation
                const intensity = 0.8 + Math.random() * 0.2;
                starsColors[i * 3] = intensity;     // r
                starsColors[i * 3 + 1] = intensity; // g
                starsColors[i * 3 + 2] = 1.0;       // b (slightly more blue)
            }

            const starsGeometry = new THREE.BufferGeometry();
            starsGeometry.setAttribute('position', new THREE.BufferAttribute(starsPositions, 3));
            starsGeometry.setAttribute('color', new THREE.BufferAttribute(starsColors, 3));

            const starsMaterial = new THREE.PointsMaterial({
                size: 2.5,
                sizeAttenuation: false,
                transparent: true,
                opacity: 0.8,
                vertexColors: true,
                blending: THREE.AdditiveBlending
            });

            const stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);

            // Add floating particles for atmosphere
            const particlesCount = 50;
            const particlesPositions = new Float32Array(particlesCount * 3);
            
            for(let i = 0; i < particlesCount; i++) {
                particlesPositions[i * 3] = (Math.random() - 0.5) * 20;
                particlesPositions[i * 3 + 1] = (Math.random() - 0.5) * 20;
                particlesPositions[i * 3 + 2] = (Math.random() - 0.5) * 20;
            }

            const particlesGeometry = new THREE.BufferGeometry();
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(particlesPositions, 3));

            const particlesMaterial = new THREE.PointsMaterial({
                color: 0x4444ff,
                size: 1,
                sizeAttenuation: false,
                transparent: true,
                opacity: 0.3,
                blending: THREE.AdditiveBlending
            });

            const particles = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particles);
            
            // Camera setup
            camera.position.z = 8;

            // Scroll and interaction
            let scrollY = window.scrollY;
            let currentSection = 0;

            window.addEventListener('scroll', () => {
                scrollY = window.scrollY;
                const newSection = Math.round(scrollY / window.innerHeight);
                
                if (newSection !== currentSection) {
                    currentSection = newSection;
                }
            });

            // Enhanced mouse movement for more personal feel
            const cursor = { x: 0, y: 0 };
            
            window.addEventListener('mousemove', (event) => {
                cursor.x = event.clientX / window.innerWidth - 0.5;
                cursor.y = event.clientY / window.innerHeight - 0.5;
            });

            // Animation
            const clock = new THREE.Clock();
            let previousTime = 0;

            const animate = () => {
                const elapsedTime = clock.getElapsedTime();
                const deltaTime = elapsedTime - previousTime;
                previousTime = elapsedTime;

                // Smooth camera movement based on scroll
                const targetY = -scrollY / window.innerHeight * 5;
                camera.position.y += (targetY - camera.position.y) * 2 * deltaTime;

                // Enhanced parallax effect
                const parallaxX = cursor.x * 0.5;
                const parallaxY = -cursor.y * 0.5;
                
                camera.position.x += (parallaxX - camera.position.x) * 3 * deltaTime;
                camera.position.z = 8 + parallaxY * 0.8;

                // Gentle star rotation and floating
                stars.rotation.y = elapsedTime * 0.008;
                stars.rotation.x = Math.sin(elapsedTime * 0.003) * 0.1;

                // Particle animation
                particles.rotation.y = -elapsedTime * 0.01;
                particles.rotation.z = elapsedTime * 0.005;

                // Camera slight breathing effect
                camera.position.y += Math.sin(elapsedTime * 0.5) * 0.05;

                // Render
                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            };

            animate();

            // Resize handler
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            });
        }

        // Enhanced custom cursor for personal touch
        window.addEventListener('mousemove', (e) => {
            try {
                const cursorDot = document.querySelector('.cursor');
                const cursorFollower = document.querySelector('.cursor-follower');
                
                if (cursorDot && e.clientX && e.clientY) {
                    cursorDot.style.left = e.clientX + 'px';
                    cursorDot.style.top = e.clientY + 'px';
                }
                
                if (cursorFollower && e.clientX && e.clientY) {
                    cursorFollower.style.left = e.clientX + 'px';
                    cursorFollower.style.top = e.clientY + 'px';
                }
            } catch (error) {
                console.error('Error in cursor mousemove:', error);
            }
        });

        // Add cursor interactions with better event delegation
        document.addEventListener('mouseover', (e) => {
            try {
                let target = e.target;
                // Check if the target or any parent is a story/thought card
                while (target && target !== document) {
                    if (target.classList && (target.classList.contains('story-card') || target.classList.contains('thought-card'))) {
                        const cursorDot = document.querySelector('.cursor');
                        const cursorFollower = document.querySelector('.cursor-follower');
                        if (cursorDot) cursorDot.style.transform = 'scale(1.5)';
                        if (cursorFollower) cursorFollower.style.transform = 'scale(1.2)';
                        break;
                    }
                    target = target.parentElement;
                }
            } catch (error) {
                console.error('Error in mouseover handler:', error);
            }
        });

        document.addEventListener('mouseout', (e) => {
            try {
                let target = e.target;
                // Check if the target or any parent is a story/thought card
                while (target && target !== document) {
                    if (target.classList && (target.classList.contains('story-card') || target.classList.contains('thought-card'))) {
                        const cursorDot = document.querySelector('.cursor');
                        const cursorFollower = document.querySelector('.cursor-follower');
                        if (cursorDot) cursorDot.style.transform = 'scale(1)';
                        if (cursorFollower) cursorFollower.style.transform = 'scale(1)';
                        break;
                    }
                    target = target.parentElement;
                }
            } catch (error) {
                console.error('Error in mouseout handler:', error);
            }
        });

        // Intersection Observer for fade-in animations
        function observeElements() {
            try {
                const observerOptions = {
                    threshold: 0.15,
                    rootMargin: '0px 0px -80px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        try {
                            if (entry.isIntersecting && entry.target && entry.target.classList) {
                                entry.target.classList.add('visible');
                            }
                        } catch (error) {
                            console.error('Error in observer callback:', error);
                        }
                    });
                }, observerOptions);

                const elements = document.querySelectorAll('.story-card, .thought-card');
                elements.forEach(el => {
                    if (el) {
                        observer.observe(el);
                    }
                });
            } catch (error) {
                console.error('Error in observeElements:', error);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            try {
                loadData();
                
                // Hide loading screen with personal touch
                setTimeout(() => {
                    const loading = document.getElementById('loading');
                    if (loading) {
                        loading.classList.add('hidden');
                    }
                }, 800);
            } catch (error) {
                console.error('Error during initialization:', error);
                const loading = document.getElementById('loading');
                if (loading) {
                    loading.classList.add('hidden');
                }
            }
        });

        // Fallback for older browsers
        window.addEventListener('load', () => {
            if (!document.getElementById('hero-intro')?.textContent) {
                try {
                    loadData();
                } catch (error) {
                    console.error('Error in fallback load:', error);
                }
            }
        });

        // Add some personal touches with subtle animations
        window.addEventListener('scroll', () => {
            try {
                const scrolled = window.scrollY;
                const rate = scrolled * -0.5;
                
                // Parallax effect on floating elements
                const floatingElements = document.querySelectorAll('.floating-element');
                floatingElements.forEach((element, index) => {
                    if (element) {
                        const speed = 0.5 + (index * 0.1);
                        element.style.transform = `translateY(${rate * speed}px)`;
                    }
                });
            } catch (error) {
                console.error('Error in scroll handler:', error);
            }
        });

        // Add typing effect to hero text
        function typeWriter(element, text, speed = 50) {
            let i = 0;
            element.textContent = '';
            
            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            
            type();
        }

        // Add some personality on page interactions with better event delegation
        let personalityCounter = 0;
        const personalityMessages = [
            "Thanks for exploring my story! 🎷",
            "Hope you're enjoying the journey! ✨",
            "Feel free to reach out anytime! 💭",
            "Thanks for stopping by! 🌟"
        ];

        document.addEventListener('click', (e) => {
            try {
                let target = e.target;
                // Check if the target or any parent is a story/thought card
                while (target && target !== document) {
                    if (target.classList && (target.classList.contains('story-card') || target.classList.contains('thought-card'))) {
                        personalityCounter++;
                        if (personalityCounter % 3 === 0) {
                            const message = personalityMessages[Math.floor(Math.random() * personalityMessages.length)];
                            setTimeout(() => showToast(message), 1000);
                        }
                        break;
                    }
                    target = target.parentElement;
                }
            } catch (error) {
                console.error('Error in personality interaction:', error);
            }
        });
    </script>
</body>
</html>
